{{/* Posts Grid Layout - Two columns on desktop, stacked on mobile */}}
<section class="posts-grid-container mt-12 mb-8 px-4 mx-auto">
  <h2 class="recent-articles-title">Insights From the Week That Was</h2>
  {{ $posts := where .Site.RegularPages "Type" "posts" }}
  {{ $posts = $posts | first 6 }}
  
  {{ if $posts }}
    <div class="posts-grid">
      {{ range $posts }}
        {{ $page := . }}
        <a href="{{ $page.RelPermalink }}" class="post-preview-link" aria-label="Read more about {{ $page.Title }}">
          <article class="post-preview">
            <div class="post-content">
              <div class="post-text-column">
                <h3 class="post-title">
                  {{ $page.Title }}
                </h3>
                <p class="post-excerpt">
                  {{ if $page.Params.summary }}
                    {{ $page.Params.summary | truncate 150 }}
                  {{ else }}
                    {{ $page.Summary | truncate 150 }}
                  {{ end }}
                </p>                
                {{ partial "article-meta/basic.html" . }}
                {{ if $page.Params.categories }}
                  <div class="post-categories">
                    {{ range first 1 $page.Params.categories }}
                      <span class="category-tag">{{ . }}</span>
                    {{ end }}
                  </div>
                {{ end }}
              </div>
              
              <div class="post-image-column">
                {{ $featuredImage := $page.Params.featuredImage }}
                {{ if $featuredImage }}
                  {{ $image := resources.Get $featuredImage }}
                  {{ if not $image }}
                    {{ $image = $page.Resources.GetMatch $featuredImage }}
                  {{ end }}
                  {{ if $image }}
                      <div class="post-thumbnail">
                        <img src="{{ $image.RelPermalink }}" alt="Featured image for {{ $page.Title }}" loading="lazy">
                      </div>
                  {{ end }}
                {{ end }}
              </div>
            </div>
          </article>
        </a>
      {{ end }}
    </div>
  {{ else }}
    <p class="text-center text-gray-500">No posts found.</p>
  {{ end }}
</section>
